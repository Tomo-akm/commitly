# This file should ensure the existence of records required to run the application in every environment (production,
# development, test). The code here should be idempotent so that it can be executed at any point in every environment.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).

puts "Creating Ryukyu University students with job hunting posts..."

# ã‚¿ã‚°ã®ä½œæˆ
puts "Creating tags..."
tag_names = [
  # å°±æ´»é–¢é€£
  "å°±æ´»", "å†…å®š", "é¢æ¥", "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚·ãƒ¼ãƒˆ", "SPI", "å°±æ´»ç›¸è«‡", "å°±æ´»æˆåŠŸ", "ãŠç¥ˆã‚Šãƒ¡ãƒ¼ãƒ«",
  "é¢æ¥å¯¾ç­–", "ä¼æ¥­ç ”ç©¶", "è‡ªå·±PR", "å¿—æœ›å‹•æ©Ÿ", "ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³", "æœ€çµ‚é¢æ¥",

  # ä¼æ¥­ãƒ»æ¥­ç•Œé–¢é€£
  "NTTãƒ‡ãƒ¼ã‚¿", "ã‚½ãƒ‹ãƒ¼", "å¯Œå£«é€š", "NEC", "æ¥½å¤©", "ã‚µã‚¤ãƒãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ", "ä»»å¤©å ‚", "DeNA",
  "LINE", "KDDI", "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯", "IBM", "Yahoo", "Google", "ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆ", "ã‚¢ã‚¯ã‚»ãƒ³ãƒãƒ¥ã‚¢",
  "ITæ¥­ç•Œ", "ã‚²ãƒ¼ãƒ æ¥­ç•Œ", "é‡‘èIT", "ã‚³ãƒ³ã‚µãƒ«", "å¤–è³‡ç³»", "ãƒ™ãƒ³ãƒãƒ£ãƒ¼",

  # åœ°åŸŸãƒ»ã‚­ãƒ£ãƒªã‚¢é¸æŠ
  "åœ°å…ƒå°±è·", "æœ¬åœŸå°±è·", "æ²–ç¸„", "æ±äº¬", "ã‚­ãƒ£ãƒªã‚¢é¸æŠ", "åœ°å…ƒæ„›", "æ²–ç¸„ã‚»ãƒ«ãƒ©ãƒ¼", "OIST",
  "æ²–ç¸„ITæ´¥æ¢ãƒ‘ãƒ¼ã‚¯", "ç‰çƒå¤§å­¦", "ç‰å¤§", "çŸ¥èƒ½æƒ…å ±ã‚³ãƒ¼ã‚¹",

  # ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ãƒ»çµŒé¨“
  "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³", "é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³", "å¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³", "ä½“é¨“è«‡", "å®Ÿå‹™çµŒé¨“", "ã‚¢ãƒ«ãƒã‚¤ãƒˆ",

  # æŠ€è¡“ãƒ»å­¦ç¿’é–¢é€£
  "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°", "æŠ€è¡“å­¦ç¿’", "è³‡æ ¼", "AWS", "Java", "Python", "React", "AI", "æ©Ÿæ¢°å­¦ç¿’",
  "åŸºæœ¬æƒ…å ±æŠ€è¡“è€…", "å¿œç”¨æƒ…å ±æŠ€è¡“è€…", "OCJP", "TOEIC", "ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª", "GitHub", "Kaggle",
  "TensorFlow", "Unity", "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", "ã‚¯ãƒ©ã‚¦ãƒ‰", "ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹",

  # ç ”ç©¶é–¢é€£
  "ç ”ç©¶", "ç ”ç©¶å®¤", "ç”»åƒå‡¦ç†", "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", "è«–æ–‡", "å’è«–", "åšå£«èª²ç¨‹", "é™¢é€²å­¦",

  # æ‚©ã¿ãƒ»ç›¸è«‡
  "æ‚©ã¿", "ä¸å®‰", "ç›¸è«‡", "ç„¦ã‚Š", "ä¸¡ç«‹", "æ™‚é–“ç®¡ç†", "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†", "å…ˆè¼©", "ã‚¢ãƒ‰ãƒã‚¤ã‚¹",

  # ãã®ä»–
  "å¤§å­¦ç”Ÿæ´»", "å‹é”", "åŒæœŸ", "èª¬æ˜ä¼š", "å°±è·ãƒ•ã‚§ã‚¢", "åˆåŒèª¬æ˜ä¼š", "å­¦å†…èª¬æ˜ä¼š",
  "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯", "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ", "ãƒãƒƒã‚«ã‚½ãƒ³", "å‹‰å¼·ä¼š", "ã‚²ãƒ¼ãƒ é–‹ç™º"
]

tags = {}
tag_names.each do |tag_name|
  tag = Tag.find_or_create_by!(name: tag_name)
  tags[tag_name] = tag
  puts "Created tag: #{tag_name}"
end

# ã‚¿ã‚°ä»˜ä¸ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
def assign_tags_to_post(post, content, tags_hash)
  assigned_tags = []

  # åŸºæœ¬çš„ãªå°±æ´»ã‚¿ã‚°ã¯å…¨æŠ•ç¨¿ã«
  assigned_tags << tags_hash["å°±æ´»"]
  assigned_tags << tags_hash["ç‰å¤§"]

  # å†…å®šé–¢é€£
  if content.include?("å†…å®š")
    assigned_tags << tags_hash["å†…å®š"]
    assigned_tags << tags_hash["å°±æ´»æˆåŠŸ"]
  end

  # ä¼æ¥­åã«åŸºã¥ãã‚¿ã‚°ä»˜ã‘
  companies = {
    "NTTãƒ‡ãƒ¼ã‚¿" => "NTTãƒ‡ãƒ¼ã‚¿", "ã‚½ãƒ‹ãƒ¼" => "ã‚½ãƒ‹ãƒ¼", "å¯Œå£«é€š" => "å¯Œå£«é€š",
    "NEC" => "NEC", "æ¥½å¤©" => "æ¥½å¤©", "ã‚µã‚¤ãƒãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ" => "ã‚µã‚¤ãƒãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ",
    "ä»»å¤©å ‚" => "ä»»å¤©å ‚", "DeNA" => "DeNA", "LINE" => "LINE", "KDDI" => "KDDI",
    "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯" => "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯", "IBM" => "IBM", "Yahoo" => "Yahoo",
    "Google" => "Google", "ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆ" => "ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆ",
    "ã‚¢ã‚¯ã‚»ãƒ³ãƒãƒ¥ã‚¢" => "ã‚¢ã‚¯ã‚»ãƒ³ãƒãƒ¥ã‚¢", "æ²–ç¸„ã‚»ãƒ«ãƒ©ãƒ¼" => "æ²–ç¸„ã‚»ãƒ«ãƒ©ãƒ¼", "OIST" => "OIST"
  }

  companies.each do |company, tag_name|
    if content.include?(company)
      assigned_tags << tags_hash[tag_name] if tags_hash[tag_name]
    end
  end

  # æ¥­ç•Œã‚¿ã‚°
  if content.match?(/(IT|ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢|ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°|ã‚·ã‚¹ãƒ†ãƒ |ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢)/i)
    assigned_tags << tags_hash["ITæ¥­ç•Œ"]
  end

  if content.match?(/(ã‚²ãƒ¼ãƒ |ä»»å¤©å ‚|SEGA|ãƒãƒ³ãƒ€ã‚¤ãƒŠãƒ ã‚³|Unity)/i)
    assigned_tags << tags_hash["ã‚²ãƒ¼ãƒ æ¥­ç•Œ"]
  end

  if content.match?(/(é‡‘è|è¨¼åˆ¸|éŠ€è¡Œ)/i)
    assigned_tags << tags_hash["é‡‘èIT"]
  end

  # é¢æ¥ãƒ»é¸è€ƒé–¢é€£
  if content.include?("é¢æ¥")
    assigned_tags << tags_hash["é¢æ¥"]
    assigned_tags << tags_hash["é¢æ¥å¯¾ç­–"]
  end

  if content.include?("æœ€çµ‚é¢æ¥")
    assigned_tags << tags_hash["æœ€çµ‚é¢æ¥"]
  end

  if content.match?(/(ã‚°ãƒ«ãƒ¼ãƒ—|ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³|GD)/i)
    assigned_tags << tags_hash["ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³"]
  end

  if content.match?(/(ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚·ãƒ¼ãƒˆ|ES)/i)
    assigned_tags << tags_hash["ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚·ãƒ¼ãƒˆ"]
  end

  if content.include?("SPI")
    assigned_tags << tags_hash["SPI"]
  end

  # åœ°åŸŸé–¢é€£
  if content.match?(/(åœ°å…ƒ|æ²–ç¸„)/i) && content.match?(/(æ®‹|åƒ)/i)
    assigned_tags << tags_hash["åœ°å…ƒå°±è·"]
    assigned_tags << tags_hash["æ²–ç¸„"]
  end

  if content.match?(/(æœ¬åœŸ|æ±äº¬)/i) && content.match?(/(å°±è·|åƒ)/i)
    assigned_tags << tags_hash["æœ¬åœŸå°±è·"]
    assigned_tags << tags_hash["æ±äº¬"]
  end

  # ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³é–¢é€£
  if content.include?("ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³")
    assigned_tags << tags_hash["ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³"]
    assigned_tags << tags_hash["ä½“é¨“è«‡"]
  end

  if content.include?("é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³")
    assigned_tags << tags_hash["é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³"]
  end

  # æŠ€è¡“é–¢é€£
  technologies = {
    "Java" => "Java", "Python" => "Python", "React" => "React",
    "AWS" => "AWS", "AI" => "AI", "æ©Ÿæ¢°å­¦ç¿’" => "æ©Ÿæ¢°å­¦ç¿’",
    "TensorFlow" => "TensorFlow", "Unity" => "Unity", "GitHub" => "GitHub"
  }

  technologies.each do |tech, tag_name|
    if content.include?(tech)
      assigned_tags << tags_hash[tag_name] if tags_hash[tag_name]
      assigned_tags << tags_hash["æŠ€è¡“å­¦ç¿’"]
    end
  end

  # è³‡æ ¼é–¢é€£
  if content.match?(/(è³‡æ ¼|åŸºæœ¬æƒ…å ±|å¿œç”¨æƒ…å ±|OCJP|TOEIC)/i)
    assigned_tags << tags_hash["è³‡æ ¼"]
  end

  if content.include?("åŸºæœ¬æƒ…å ±")
    assigned_tags << tags_hash["åŸºæœ¬æƒ…å ±æŠ€è¡“è€…"]
  end

  # ç ”ç©¶é–¢é€£
  if content.match?(/(ç ”ç©¶|è«–æ–‡|å’è«–)/i)
    assigned_tags << tags_hash["ç ”ç©¶"]
    assigned_tags << tags_hash["ç ”ç©¶å®¤"]
  end

  if content.include?("ç”»åƒå‡¦ç†")
    assigned_tags << tags_hash["ç”»åƒå‡¦ç†"]
  end

  # æ‚©ã¿ãƒ»ç›¸è«‡é–¢é€£
  if content.match?(/(æ‚©|ä¸å®‰|è¿·|å›°)/i)
    assigned_tags << tags_hash["æ‚©ã¿"]
    assigned_tags << tags_hash["å°±æ´»ç›¸è«‡"]
  end

  if content.include?("ãŠç¥ˆã‚Š")
    assigned_tags << tags_hash["ãŠç¥ˆã‚Šãƒ¡ãƒ¼ãƒ«"]
  end

  # èª¬æ˜ä¼šé–¢é€£
  if content.include?("èª¬æ˜ä¼š")
    assigned_tags << tags_hash["èª¬æ˜ä¼š"]
  end

  # é‡è¤‡ã‚’å‰Šé™¤ã—ã¦ã‚¿ã‚°ã‚’è¨­å®š
  assigned_tags.uniq.compact.each do |tag|
    PostTag.create!(post: post, tag: tag)
    tag.increment!(:posts_count) # posts_countã‚’æ›´æ–°
  end

  assigned_tags.uniq.compact
end
favorite_languages = [
  "Ruby", "Python", "JavaScript", "Java", "C++", "C#", "PHP", "TypeScript",
  "Go", "Swift", "Kotlin", "Rust", "Scala", "R", "MATLAB", "SQL"
]

# ç ”ç©¶å®¤ã®é…åˆ—
research_labs = [ "åŸé–“ç ”", "èµ¤å¶ºç ”", "åœ‹ç”°ç ”", "NALç ”", "é•·å±±ç ”", "å²¡å´ç ”", "ç‰åŸç ”" ]

# å€‹äººãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é…åˆ—
personal_messages = [
  "æœ¬åœŸå°±è·ã‚’ç›®æŒ‡ã—ã¦é ‘å¼µã£ã¦ã„ã¾ã™ï¼",
  "åœ°å…ƒæ²–ç¸„ã§åƒããŸã„ã§ã™ã€‚",
  "ITæ¥­ç•Œã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦æˆé•·ã—ãŸã„ï¼",
  "æ²–ç¸„ã®ç™ºå±•ã«è²¢çŒ®ã§ãã‚‹ä»•äº‹ã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚",
  "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã§åƒã‘ã‚‹ä¼šç¤¾ã‚’å¸Œæœ›ã—ã¦ã„ã¾ã™ã€‚",
  "ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚",
  "Webé–‹ç™ºã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚",
  "AIã‚„MLåˆ†é‡ã§åƒããŸã„ã§ã™ã€‚",
  "ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚",
  "ã‚²ãƒ¼ãƒ æ¥­ç•Œã§åƒã„ã¦ã¿ãŸã„ã§ã™ã€‚",
  "ã‚¤ãƒ³ãƒ•ãƒ©ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚",
  "ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã‚ŠãŸã„ï¼",
  "ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚",
  "ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’ã‚„ã‚ŠãŸã„ã§ã™ã€‚",
  "ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“ã‚’å­¦ã³ãŸã„ã§ã™ã€‚",
  "ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹é–‹ç™ºã«è²¢çŒ®ã—ãŸã„ï¼",
  "ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚",
  "ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚‚èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚",
  "æŠ€è¡“ã§ç¤¾ä¼šèª²é¡Œã‚’è§£æ±ºã—ãŸã„ã§ã™ã€‚",
  "ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«æ´»èºã§ãã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã‚ŠãŸã„ï¼"
]

# å­¦ç”Ÿã¨æŠ•ç¨¿ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ20äººã«çµã‚‹ï¼‰
student_posts_data = [
  { name: "æ¯”å˜‰å¤§è¼", post: "åˆã‚ã¦ã®ä¼æ¥­èª¬æ˜ä¼šã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚ç·Šå¼µã—ãŸã‘ã©å‹‰å¼·ã«ãªã£ãŸï¼" },
  { name: "é‡‘åŸèˆ", post: "æ±äº¬ã®ITä¼æ¥­ã‚’èª¿ã¹ã¦ã‚‹ã‘ã©ã€æ²–ç¸„ã‹ã‚‰åƒã‘ã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã®æ±‚äººãŒæ°—ã«ãªã‚‹" },
  { name: "æ–°å£ç¿”å¤ª", post: "åœ°å…ƒã«æ®‹ã‚‹ã‹ã€æœ¬åœŸã«è¡Œãã‹ã¾ã è¿·ã£ã¦ã¾ã™ã€‚å…ˆè¼©ã¯ã©ã†ã—ã¦æ±ºã‚ãŸã‚“ã ã‚ã†" },
  { name: "å®®é‡Œå½©èŠ±", post: "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚·ãƒ¼ãƒˆã®è‡ªå·±PRã€æ›¸ãç›´ã—ã™ãã¦ã‚ˆãåˆ†ã‹ã‚‰ãªããªã£ã¦ããŸâ€¦" },
  { name: "å¤§åŸå¥å¤ª", post: "å†…å®šã‚’ã‚‚ã‚‰ã£ãŸå‹é”ãŒã„ã¦ç„¦ã‚‹ã‘ã©ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§é€²ã‚ãŸã„" },
  { name: "ä¸ŠåŸçµèœ", post: "åˆã‚ã¦ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã§ã†ã¾ãè©±ã›ãªã‹ã£ãŸã€‚è¦ç·´ç¿’ï¼" },
  { name: "çŸ¥å¿µäº®", post: "åˆåŒèª¬æ˜ä¼šã§ãŸãã•ã‚“ã®ä¼æ¥­ã¨è©±ã›ã¦ã€è¦–é‡ãŒåºƒãŒã£ãŸæ°—ãŒã™ã‚‹" },
  { name: "ä»²æ‘çœŸå¤®", post: "æ²–ç¸„ã§åƒããŸã„æ°—æŒã¡ã‚‚ã‚ã‚‹ã‘ã©ã€æ±äº¬ã®ä¼æ¥­ã«ã‚‚æŒ‘æˆ¦ã—ãŸã„" },
  { name: "å¹³è‰¯æ™ºä¹Ÿ", post: "SPIã®å‹‰å¼·ã€è‹±èªãŒé›£ã—ãã¦ã¤ã¾ãšã„ã¦ã‚‹ã€‚ã¿ã‚“ãªã¯ã©ã†ã—ã¦ã‚‹ï¼Ÿ" },
  { name: "å±‹æ¯”ä¹…ã•ãã‚‰", post: "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§å…ˆè¼©ç¤¾å“¡ã¨è©±ã—ã¦ã€ç¤¾ä¼šäººã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå°‘ã—æ´ã‚ãŸ" },
  { name: "ä¸é‚£è¦‡æ‚ æ–—", post: "ç¬¬ä¸€å¿—æœ›ã®é¢æ¥ãŒè¿‘ã¥ã„ã¦ãã¦ã€æ¯æ—¥ãƒ‰ã‚­ãƒ‰ã‚­ã—ã¦ã‚‹" },
  { name: "ç‰åŸç¾å’²", post: "å°±æ´»ç”¨ã®è¨¼æ˜å†™çœŸã€ã©ã“ã§æ’®ã‚‹ã‹ã¾ã æ±ºã‚ã‚‰ã‚Œãªã„" },
  { name: "ç…§å±‹æµ·æ–—", post: "å­¦å†…èª¬æ˜ä¼šã«å‚åŠ ã—ãŸã‘ã©ã€äººãŒå¤šã™ãã¦è©±ã‚’èã‘ãªã‹ã£ãŸâ€¦" },
  { name: "æˆ‘é‚£è¦‡çœŸç†å­", post: "æ²–ç¸„ã®è¦³å…‰æ¥­ç•Œã‚‚é­…åŠ›çš„ã ã—ã€ITæ¥­ç•Œã«ã‚‚èˆˆå‘³ã‚ã‚‹ã€‚è¿·ã„ä¸­" },
  { name: "å³¶è¢‹å¤§åœ°", post: "ã¾ã å°±æ´»ã‚’æœ¬æ ¼çš„ã«å§‹ã‚ã¦ã„ãªã„ã‘ã©ã€ãã‚ãã‚å‹•ã‹ãªã„ã¨ã‚„ã°ã„" },
  { name: "çŸ¥èŠ±èŒ", post: "ã‚­ãƒ£ãƒªã‚¢ã‚»ãƒ³ã‚¿ãƒ¼ã§ç›¸è«‡ã—ãŸã‚‰å°‘ã—å®‰å¿ƒã—ãŸã€‚ã‚‚ã£ã¨åˆ©ç”¨ã—ã‚ˆã†ã‹ãª" },
  { name: "ä»²å®—æ ¹äº®å¤ª", post: "ãŠç¥ˆã‚Šãƒ¡ãƒ¼ãƒ«ãŒæ¥ã¦è½ã¡è¾¼ã‚“ã ã‘ã©ã€æ°—æŒã¡ã‚’åˆ‡ã‚Šæ›¿ãˆã¦é ‘å¼µã‚‹" },
  { name: "å–œå‹åæ²™è€¶", post: "å°±æ´»ã¨ç ”ç©¶ã®ä¸¡ç«‹ãŒå¤§å¤‰ã€‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ãŒå¿…é ˆã ãªâ€¦" },
  { name: "å…·å¿—å …èˆª", post: "æ²–ç¸„ã«æ®‹ã£ã¦åƒããŸã„ã€‚åœ°å…ƒã®ã‚¤ãƒ³ãƒ•ãƒ©ç³»ä¼æ¥­ã‚’ä¸­å¿ƒã«æ¢ã—ã¦ã‚‹" },
  { name: "ä¸Šæ±Ÿæ´²ã²ã‹ã‚Š", post: "å°±æ´»æƒ…å ±ã‚’å‹é”ã¨ã‚·ã‚§ã‚¢ã§ãã‚‹ã®ãŒã‚ã‚ŠãŒãŸã„" }
]

users = []

# ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å‰åŠéƒ¨åˆ†ã‚’ç”Ÿæˆã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼
def generate_email_prefix(name, index)
  # åå‰ã‚’ãƒ­ãƒ¼ãƒå­—åŒ–ï¼ˆç°¡æ˜“ç‰ˆï¼‰
  romanized_map = {
    'æ¯”å˜‰' => 'higa', 'é‡‘åŸ' => 'kinjo', 'æ–°å£' => 'aragaki', 'å®®é‡Œ' => 'miyazato',
    'å¤§åŸ' => 'oshiro', 'ä¸ŠåŸ' => 'uehara', 'çŸ¥å¿µ' => 'chinen', 'ä»²æ‘' => 'nakamura',
    'å¹³è‰¯' => 'taira', 'å±‹æ¯”ä¹…' => 'yabiku', 'ä¸é‚£è¦‡' => 'yonaha', 'ç‰åŸ' => 'tamaki',
    'ç…§å±‹' => 'teruya', 'æˆ‘é‚£è¦‡' => 'ganaha', 'å³¶è¢‹' => 'shimabukuro', 'çŸ¥èŠ±' => 'chibana',
    'ä»²å®—æ ¹' => 'nakasone', 'å–œå‹å' => 'kiyuna', 'å…·å¿—å …' => 'gushiken', 'ä¸Šæ±Ÿæ´²' => 'uezu'
  }

  # åå­—ã¨åå‰ã‚’åˆ†å‰²
  family_name = name[0..1] # æœ€åˆã®2æ–‡å­—ã‚’åå­—ã¨ã—ã¦æ‰±ã†
  given_name = name[2..-1] # æ®‹ã‚Šã‚’åå‰ã¨ã—ã¦æ‰±ã†

  # ãƒ­ãƒ¼ãƒå­—å¤‰æ›
  family_roman = romanized_map[family_name] || family_name.downcase
  given_roman = given_name.tr('å¤§è¼èˆç¿”å¤ªå½©èŠ±å¥å¤ªçµèœäº®çœŸå¤®æ™ºä¹Ÿã•ãã‚‰æ‚ æ–—ç¾å’²æµ·æ–—çœŸç†å­åœ°èŒäº®å¤ªæ²™è€¶èˆªã²ã‹ã‚Š',
                              'daikimaishot_taaayakakentayuinaakiramaochimatosakurayuutomisak_ikaitmarikodaichimoearyotasayakouhikari')

  "#{family_roman}.#{given_roman}#{index}"
end

puts "Creating users and posts..."

student_posts_data.each_with_index do |data, index|
  # ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç”Ÿæˆ
  email_prefix = generate_email_prefix(data[:name], index + 1)
  email = "#{email_prefix}@s.u-ryukyu.ac.jp"

  # ãƒ©ãƒ³ãƒ€ãƒ ã§å¥½ããªè¨€èªã€ç ”ç©¶å®¤ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³å›æ•°ã€å€‹äººãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é¸æŠ
  favorite_language = favorite_languages.sample
  research_lab = research_labs.sample
  internship_count = rand(0..5) # 0-5å›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³çµŒé¨“
  personal_message = personal_messages.sample

  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
  user = User.find_or_create_by!(email: email) do |u|
    u.password = "password"
    u.password_confirmation = "password"
    u.name = data[:name]
    u.favorite_language = favorite_language
    u.research_lab = research_lab
    u.internship_count = internship_count
    u.personal_message = personal_message
  end

  users << user

  # æŠ•ç¨¿ã‚’ä½œæˆï¼ˆéå»6ãƒ¶æœˆã«åˆ†æ•£ï¼‰
  # æ—¢å­˜ã®æŠ•ç¨¿ãŒã‚ã‚‹ã‹ç¢ºèªï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å†…å®¹ã§ä¸€æ„æ€§ã‚’åˆ¤å®šï¼‰
  random_date = rand(6.months.ago..Time.current)
  post = Post.find_or_create_by!(
    content: data[:post],
    user: user
  ) do |p|
    p.created_at = random_date
    p.updated_at = random_date
  end

  # ã‚¿ã‚°ã‚’ä»˜ä¸ï¼ˆæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
  if post.post_tags.empty?
    assigned_tags = assign_tags_to_post(post, data[:post], tags)
  else
    assigned_tags = post.tags
  end
  tag_names = assigned_tags.map(&:name).join(", ")

  puts "Created user #{index + 1}: #{data[:name]}"
  puts "  â”œ Email: #{email}"
  puts "  â”œ Research Lab: #{research_lab}"
  puts "  â”œ Favorite Language: #{favorite_language}"
  puts "  â”œ Internship Count: #{internship_count}å›"
  puts "  â”œ Personal Message: #{personal_message}"
  puts "  â”œ Post: #{data[:post][0..40]}..."
  puts "  â”” Tags: #{tag_names}"
  puts
end

# ãƒ‡ãƒ¢ç”¨ã®ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ 
admin_user = User.find_or_create_by!(email: "admin@example.com") do |u|
  u.password = "password"
  u.password_confirmation = "password"
  u.name = "ç®¡ç†è€…"
  u.favorite_language = "Ruby"
  u.research_lab = "NALç ”"
  u.internship_count = 0
  u.personal_message = "ç‰çƒå¤§å­¦çŸ¥èƒ½æƒ…å ±ã‚³ãƒ¼ã‚¹ã®å°±æ´»ã‚’å¿œæ´ã—ã¾ã™ï¼"
end

# è¿½åŠ ã®æŠ•ç¨¿ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ä½œæˆï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªSNSã«è¦‹ã›ã‚‹ãŸã‚ï¼‰
additional_posts = [
  # å†…å®šå ±å‘Šç³»
  "NTTãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å†…å®šã„ãŸã ãã¾ã—ãŸï¼4å¹´ã®å¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³å‚åŠ ãŒå¤§ãã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚",
  "ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ã«å†…å®šï¼ç ”ç©¶ã§ã®ç”»åƒå‡¦ç†ã®çµŒé¨“ã‚’ã‚¢ãƒ”ãƒ¼ãƒ«ã§ãã¾ã—ãŸã€‚",
  "å¯Œå£«é€šã®SEè·ã§å†…å®šã‚’ç²å¾—ã—ã¾ã—ãŸã€‚SPIå¯¾ç­–ã‚’ã—ã£ã‹ã‚Šã‚„ã£ã¦ã‚ˆã‹ã£ãŸã€‚",
  "NECã«å†…å®šæ±ºã¾ã‚Šã¾ã—ãŸï¼ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¯ãƒ¼ã‚¯ã®çµŒé¨“ã‚’å¼·èª¿ã—ã¾ã—ãŸã€‚",
  "æ¥½å¤©ã®å†…å®šã„ãŸã ãã¾ã—ãŸã€‚Javaã¨Spring Bootã®å‹‰å¼·ãŒå½¹ç«‹ã¡ã¾ã—ãŸã€‚",
  "ã‚µã‚¤ãƒãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰å†…å®šï¼é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§ã®çµŒé¨“ãŒè©•ä¾¡ã•ã‚ŒãŸã¿ãŸã„ã€‚",
  "ä»»å¤©å ‚ã«å†…å®šã—ã¾ã—ãŸï¼å°ã•ã„é ƒã‹ã‚‰ã®å¤¢ãŒå¶ã„ã¾ã—ãŸã€‚",
  "DeNAã‹ã‚‰å†…å®šï¼Reactã¨ãƒ¢ãƒã‚¤ãƒ«é–‹ç™ºçµŒé¨“ã‚’é¢æ¥ã§è©±ã—ã¾ã—ãŸã€‚",
  "LINEãƒ¤ãƒ•ãƒ¼ã®å†…å®šã‚‚ã‚‰ãˆã¾ã—ãŸã€‚ç ”ç©¶å®¤ã§ã®AIé–‹ç™ºãŒå¼·ã¿ã«ãªã‚Šã¾ã—ãŸã€‚",
  "KDDIã‹ã‚‰å†…å®šã€‚åœ°å…ƒæ²–ç¸„ã§ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ãŒãã£ã‹ã‘ã§ã—ãŸã€‚",
  "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ã®é¸è€ƒé€šéï¼æœ€çµ‚é¢æ¥ã¾ã§é ‘å¼µã‚Šã¾ã™ã€‚",
  "æ¥½å¤©è¨¼åˆ¸ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è·ã«å†…å®šæ±ºã¾ã‚Šã¾ã—ãŸã€‚é‡‘èITã«é€²ã¿ã¾ã™ã€‚",
  "GMOã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§å†…å®šã„ãŸã ãã¾ã—ãŸï¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‹‰å¼·ã—ã¦ã¦ã‚ˆã‹ã£ãŸã€‚",
  "SEGAã®ã‚²ãƒ¼ãƒ é–‹ç™ºéƒ¨é–€ã«å†…å®šï¼Unityã®è‡ªä¸»åˆ¶ä½œã‚’è©•ä¾¡ã—ã¦ã‚‚ã‚‰ãˆã¾ã—ãŸã€‚",
  "ãƒãƒ³ãƒ€ã‚¤ãƒŠãƒ ã‚³ã®å†…å®šãŒæ±ºã¾ã‚Šã¾ã—ãŸï¼ã‚²ãƒ¼ãƒ å¥½ãã¨ã—ã¦æœ€é«˜ã§ã™ã€‚",
  "æ²–ç¸„ã‚»ãƒ«ãƒ©ãƒ¼é›»è©±ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è·ã«å†…å®šï¼åœ°å…ƒå°±è·ã§å®‰å¿ƒã—ã¾ã—ãŸã€‚",
  "æ—¥æœ¬IBMã®å†…å®šã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ç ”ç©¶å®¤ã§ã®æ©Ÿæ¢°å­¦ç¿’çµŒé¨“ã‚’æ´»ã‹ã›ãã†ã§ã™ã€‚",
  "Yahoo! JAPANã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å†…å®šæ±ºã¾ã‚Šã¾ã—ãŸã€‚Pythonã‚¹ã‚­ãƒ«ã‚’è©•ä¾¡ã•ã‚Œã¾ã—ãŸã€‚",
  "OISTã®ç ”ç©¶è£œåŠ©è·ã«æ±ºã¾ã‚Šã¾ã—ãŸï¼AIç ”ç©¶ã‚’ç¶šã‘ã¾ã™ã€‚",
  "JALã‚·ã‚¹ãƒ†ãƒ ã®å†…å®šã‚’ã„ãŸã ãã¾ã—ãŸã€‚ç©ºæ¸¯ã‚·ã‚¹ãƒ†ãƒ ã«é–¢ã‚ã‚‹ä»•äº‹ã«æŒ‘æˆ¦ï¼",
  "TISã‹ã‚‰å†…å®šï¼ã‚¢ãƒ«ãƒã‚¤ãƒˆã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°çµŒé¨“ã‚’èã‹ã‚Œã¾ã—ãŸã€‚",
  "æ—¥ç«‹è£½ä½œæ‰€ã«å†…å®šï¼é¢æ¥ã§ç ”ç©¶å†…å®¹ã‚’ã†ã¾ãä¼ãˆã‚‰ã‚Œã¾ã—ãŸã€‚",
  "ã‚¢ã‚¯ã‚»ãƒ³ãƒãƒ¥ã‚¢ã®å†…å®šãŒæ±ºã¾ã‚Šã¾ã—ãŸï¼è‹±èªé¢æ¥ãŒå¤§å¤‰ã§ã—ãŸã€‚",
  "PwCã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã«å†…å®šï¼ITæˆ¦ç•¥ã«é–¢ã‚ã‚Œã‚‹ã®ãŒæ¥½ã—ã¿ã§ã™ã€‚",
  "NRIï¼ˆé‡æ‘ç·åˆç ”ç©¶æ‰€ï¼‰ã®å†…å®šã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚é‡‘èITã§ã‚­ãƒ£ãƒªã‚¢ã‚’ç©ã¿ã¾ã™ã€‚",
  "JRæ±æ—¥æœ¬ITã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚ºã«å†…å®šï¼äº¤é€šç³»ã‚·ã‚¹ãƒ†ãƒ ã«é–¢ã‚ã‚Œã‚‹ã®ãŒå¬‰ã—ã„ã€‚",
  "æ—¥æœ¬ãƒ¦ãƒ‹ã‚·ã‚¹ã«å†…å®šï¼Cè¨€èªã§ã®åŸºç¤åŠ›ã‚’è¦‹ã‚‰ã‚Œã¾ã—ãŸã€‚",
  "ã‚¨ãƒŒãƒ“ãƒ‡ã‚£ã‚¢æ—¥æœ¬æ³•äººã«å†…å®šï¼GPUç ”ç©¶ãŒæ´»ã‹ã›ã¾ã—ãŸã€‚",
  "Google Japanã®æ–°å’æ¡ç”¨ã«æŒ‘æˆ¦ä¸­ï¼ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆé›£ã—ã™ãã‚‹ã€‚",
  "ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆã‚¸ãƒ£ãƒ‘ãƒ³ã®é¢æ¥ã‚’å—ã‘ã¾ã—ãŸã€‚è‹±èªã§ã®å—ã‘ç­”ãˆç·Šå¼µã—ãŸâ€¦ã€‚",

  # å°±æ´»ã®æ‚©ã¿ãƒ»ä½“é¨“ç³»
  "å°±æ´»ä¸å®‰ã§çœ ã‚Œãªã„â€¦ã€‚SPIã¨é¢æ¥å¯¾ç­–ã©ã£ã¡ã‚’å„ªå…ˆã™ã¹ãï¼Ÿ",
  "æ²–ç¸„ã®ãƒ™ãƒ³ãƒãƒ£ãƒ¼ä¼æ¥­ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ä¸­ã€‚ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®ã‚¹ãƒ”ãƒ¼ãƒ‰æ„ŸãŒåˆºæ¿€çš„ã€‚",
  "åšå£«èª²ç¨‹ã«é€²å­¦ã—ã¦ç ”ç©¶è·ã‚’ç›®æŒ‡ã™ã‹ã€å°±è·ã™ã‚‹ã‹è¿·ã£ã¦ã„ã¾ã™ã€‚",
  "æ±äº¬ã§å°±è·ã™ã‚‹ã‹æ²–ç¸„ã§åƒãã‹æ‚©ã¿ä¸­â€¦ã€‚ã¿ã‚“ãªã¯ã©ã†æ±ºã‚ã¦ã‚‹ï¼Ÿ",
  "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³å…ˆã§Reactã‚’ä½¿ã£ãŸWebã‚¢ãƒ—ãƒªã‚’ä½œæˆä¸­ï¼æ¥½ã—ã„ã‘ã©é›£ã—ã„ã€‚",
  "å°±æ´»ç”¨ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’GitHubã«ã¾ã¨ã‚ä¸­ã€‚ãƒ‡ã‚¶ã‚¤ãƒ³ã«æ‚©ã‚€â€¦ã€‚",
  "SPIéè¨€èªãŒæœ¬å½“ã«è‹¦æ‰‹â€¦ã€‚åŠ¹ç‡çš„ãªå‹‰å¼·æ³•ãªã„ã‹ãªã€‚",
  "å¿—æœ›å‹•æ©ŸãŒãªã‹ãªã‹ã¾ã¨ã¾ã‚‰ãªã„ã€‚è‡ªå·±PRã‚ˆã‚Šé›£ã—ã„æ°—ãŒã™ã‚‹ã€‚",
  "ç ”ç©¶ã¨å°±æ´»ã®ä¸¡ç«‹ãŒãã¤ã„â€¦ã€‚æ™‚é–“ã®ä½¿ã„æ–¹ã©ã†ã™ã‚Œã°ï¼Ÿ",
  "åœ°å…ƒä¼æ¥­ã®æ²–ç¸„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚»ãƒ³ã‚¿ãƒ¼ã®èª¬æ˜ä¼šã«å‚åŠ ã—ã¾ã—ãŸã€‚",
  "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…ãŒè©•ä¾¡ã•ã‚Œã¦è‡ªä¿¡ãŒã¤ã„ãŸï¼",
  "é¢æ¥ã§ã€Œãƒãƒ¼ãƒ é–‹ç™ºã®çµŒé¨“ã€ã‚’æ·±æ˜ã‚Šã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã€‚æº–å‚™å¤§äº‹ã€‚",
  "å°±æ´»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ã€Œæ±äº¬ã§ã®å°±è·ã‚’å‹§ã‚ãŸã„ã€ã¨è¨€ã‚ã‚Œã¦è¿·ã£ã¦ã¾ã™ã€‚",
  "æ²–ç¸„ITæ´¥æ¢ãƒ‘ãƒ¼ã‚¯ã®ä¼æ¥­èª¬æ˜ä¼šã«å‚åŠ ï¼åœ°å…ƒã§ã®ã‚­ãƒ£ãƒªã‚¢ã‚‚é­…åŠ›çš„ã€‚",
  "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§AWSã‚’ä½¿ã£ãŸç’°å¢ƒæ§‹ç¯‰ã‚’ä»»ã•ã‚Œã¦æˆé•·ã§ããŸæ°—ãŒã™ã‚‹ã€‚",
  "é¢æ¥ã§ã€Œãªãœæ²–ç¸„ã‹ã‚‰æ±äº¬ã«å‡ºãŸã„ã®ã‹ã€å¿…ãšèã‹ã‚Œã‚‹â€¦ã€‚ç­”ãˆã‚’ç£¨ã‹ãªã„ã¨ã€‚",
  "å…ˆè¼©ã‹ã‚‰ã€ŒTOEICã‚¹ã‚³ã‚¢ã‚‚è¦‹ã‚‰ã‚Œã‚‹ã€ã¨è¨€ã‚ã‚Œã¦å‹‰å¼·å§‹ã‚ã¾ã—ãŸã€‚",
  "å°±æ´»ã§æ‚©ã‚“ã æ™‚ã¯ç ”ç©¶å®¤ã®å…ˆè¼©ã«ç›¸è«‡ã—ã¦åŠ©ã‘ã‚‰ã‚ŒãŸã€‚",

  # æŠ€è¡“å­¦ç¿’ãƒ»è³‡æ ¼ç³»
  "Javaã®è³‡æ ¼ï¼ˆOCJPï¼‰å–å¾—ã«å‘ã‘ã¦å‹‰å¼·ä¸­ï¼å±¥æ­´æ›¸ã«æ›¸ã‘ã‚‹ã‚ˆã†é ‘å¼µã‚‹ã€‚",
  "AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã«æŒ‘æˆ¦ã—ã¦ã„ã¾ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰å¼·ã¿ã«ãªã‚‹ã‹ãªã€‚",
  "åŸºæœ¬æƒ…å ±æŠ€è¡“è€…è©¦é¨“ã«åˆæ ¼ã—ã¾ã—ãŸï¼å¿œç”¨æƒ…å ±ã‚‚ç›®æŒ‡ã—ã¾ã™ã€‚",
  "Pythonã®è³‡æ ¼è©¦é¨“ã‚’å—ã‘ã‚‹äºˆå®šã€‚å°±æ´»ã«ãƒ—ãƒ©ã‚¹ã«ãªã‚‹ã¯ãšã€‚",
  "AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ç›®æŒ‡ã—ã¦TensorFlowã‚’ç‹¬å­¦ä¸­ã€‚é¢æ¥ã§æ´»ã‹ã—ãŸã„ã€‚",
  "Google Cloudèªå®šè³‡æ ¼ã«æŒ‘æˆ¦ã—ã¦ã¾ã™ï¼ã‚¯ãƒ©ã‚¦ãƒ‰äººæä¸è¶³ã£ã¦æœ¬å½“ï¼Ÿ",
  "Kaggleã§æ©Ÿæ¢°å­¦ç¿’ã‚³ãƒ³ãƒšå‚åŠ ä¸­ï¼é¢æ¥ã§è©±ã›ã‚‹ãƒã‚¿ã«ãªã‚‹ã‹ãªã€‚",

  # ä¸€èˆ¬çš„ãªæŠ€è¡“ç³»æŠ•ç¨¿
  "ä»Šæ—¥ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€Pythonã§ãƒ‡ãƒ¼ã‚¿è§£æã—ã¦ã‚‹ğŸ",
  "GitHubã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å¢—ã‚„ã—ãŸã„ï¼",
  "ãƒãƒƒã‚«ã‚½ãƒ³ã«å‚åŠ ã—ã¦ã¿ãŸã„ãª",
  "å°±æ´»ã®åˆé–“ã«LeetCodeè§£ã„ã¦ã‚‹ğŸ’»",
  "å…ˆè¼©ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè¦‹ã¦åˆºæ¿€ã‚’å—ã‘ãŸâœ¨",
  "ä»Šåº¦ã®æŠ€è¡“å‹‰å¼·ä¼šã€èª°ã‹ä¸€ç·’ã«è¡Œãäººã„ã‚‹ï¼Ÿ",
  "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§ä½¿ã£ãŸæŠ€è¡“ã«ã¤ã„ã¦æŠ•ç¨¿ã—ã‚ˆã†ï¼",
  "ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸã“ã¨ã‚’ã¾ã¨ã‚ã¦ã¿ãŸğŸ“",
  "æ–°ã—ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å­¦ç¿’ä¸­ã€‚é›£ã—ã„ã‘ã©æ¥½ã—ã„ï¼",
  "å°±æ´»ã®æ¯æŠœãã«ã‚²ãƒ¼ãƒ é–‹ç™ºã—ã¦ã‚‹ğŸ®"
]

# ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿½åŠ æŠ•ç¨¿ã‚’å‰²ã‚Šå½“ã¦ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªSNSã«ã™ã‚‹ãŸã‚å¤šã‚ã«æŠ•ç¨¿ï¼‰
# æ—¢å­˜ã®æŠ•ç¨¿æ•°ã‚’ç¢ºèªã—ã¦ã€æ—¢ã«ååˆ†ãªæŠ•ç¨¿ãŒã‚ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
current_post_count = Post.count
target_additional_posts = 30

if current_post_count < (student_posts_data.length + target_additional_posts)
  posts_to_create = [ (student_posts_data.length + target_additional_posts - current_post_count), target_additional_posts ].min

  posts_to_create.times do |i|
    random_user = users.sample
    random_post = additional_posts.sample

    # ãƒ©ãƒ³ãƒ€ãƒ ãªæ—¥ä»˜ã‚’ç”Ÿæˆï¼ˆéå»6ãƒ¶æœˆã«åˆ†æ•£ï¼‰
    random_date = rand(6.months.ago..Time.current)

    # æ—¢å­˜ãƒã‚§ãƒƒã‚¯ï¼šåŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼+åŒã˜å†…å®¹ã®æŠ•ç¨¿ãŒãªã„ã‹ç¢ºèª
    post = Post.find_or_create_by!(
      content: random_post,
      user: random_user
    ) do |p|
      p.created_at = random_date
      p.updated_at = random_date
    end

    # è¿½åŠ æŠ•ç¨¿ã«ã‚‚ã‚¿ã‚°ã‚’ä»˜ä¸ï¼ˆæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
    if post.post_tags.empty?
      assigned_tags = assign_tags_to_post(post, random_post, tags)
      puts "Created additional post #{i + 1} with tags: #{assigned_tags.map(&:name).join(', ')}"
    else
      puts "Skipped additional post #{i + 1} (already exists)"
    end
  end
else
  puts "Skipping additional posts creation - already have enough posts (#{current_post_count} posts)"
end

puts "\n" + "="*70
puts "ğŸŒº Seed data creation completed! ğŸŒº"
puts "="*70
puts "ğŸ‘¥ Created #{User.count} users (#{User.count - 1} students + 1 admin)"
puts "ğŸ“ Created #{Post.count} posts"
puts "ğŸ·ï¸ Created #{Tag.count} tags"
puts "ğŸ”— Created #{PostTag.count} post-tag relationships"
puts "ğŸ”¬ Research Labs: #{research_labs.join(', ')}"
puts "ğŸ’» Programming Languages: #{favorite_languages.join(', ')}"
puts "ğŸ“Š Internship Experience: 0-5å› (ãƒ©ãƒ³ãƒ€ãƒ è¨­å®š)"
puts ""
puts "ğŸ“ˆ Top 10 Tags by Usage:"
Tag.order(posts_count: :desc).limit(10).each_with_index do |tag, index|
  puts "  #{index + 1}. #{tag.name} (#{tag.posts_count}ä»¶)"
end
puts "="*70
puts "ğŸ‰ Welcome to Commitly - ç‰çƒå¤§å­¦çŸ¥èƒ½æƒ…å ±ã‚³ãƒ¼ã‚¹å‘ã‘å°±æ´»SNSï¼"
puts "ã¿ã‚“ãªã§å°±æ´»ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å­¦ç¿’ã‚’é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ğŸ’ªâœ¨"
puts "="*70
